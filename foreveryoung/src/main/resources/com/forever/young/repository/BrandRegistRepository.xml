<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.forever.young.repository.BrandRegistRepository">

	<insert id="regist">
		insert into brand 
		values ( customer_seq.nextval, 
		#{brand_id}, #{brand_pw}, #{brand_name}, #{brand_phone}, sysdate, 'F', null )
	</insert>
	
	<select id="login" resultType="Brand">
		select * from brand where brand_id = #{brand_id} and brand_pw = #{brand_pw}
	</select>
	
	<select id="findId" resultType="Brand">
		select * from Brand where brand_id = #{brand_id}
	</select>
	
	<select id="findNum" resultType="Brand">
		select * from Brand where brand_num = #{brand_num}
	</select>
	
	<update id="editBrandInfo">
		update brand set 
		brand_name = #{brand_name}, brand_phone=#{brand_phone}
		where brand_num = #{brand_num} 
	</update>
	
	<update id="update" parameterType="com.forever.young.entity.Product">
		update product_table 
			set product_name = #{name}, 
				product_price = #{price},
				product_stock = #{stock}
			where product_no = #{number} 
	</update>
	
	
	<delete id="deleteProduct">
		delete 
			 product_table 
		where product_no = #{product_no}
	</delete>

	<select id="productList" resultType="hashmap" parameterType="hashmap">
        <![CDATA[
        	select * 
        	from 
        	(select * from product_table order by product_regdate desc )
        	where rownum between 1 and 10
		 ]]>
	</select>
	
	<select id="ProductListCnt" resultType="int">
		select count(*)
		from product_table
	</select>

</mapper>