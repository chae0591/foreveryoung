<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.forever.young.repository.ProductRepository">
	
	<insert id="registProduct">
	<selectKey keyProperty="product_id" order="BEFORE" resultType="int">
			select product_table_sequence.nextval from dual			
	</selectKey>
		insert into product_table 
		(product_id, product_category, product_name, product_price, product_stock, product_regDate, product_brand, event_no)
		values ( #{product_id},
		#{product_category}, #{product_name}, #{product_price}, #{product_stock}, sysdate, 1, 1)
	</insert>

	<select id="selectBoardList" parameterType="hashMap" resultType="hashmap">
		<![CDATA[
			select 
				product_category, 
				product_name, 
				product_img, 
				product_price, 
				product_stock,
				product_regDate
			from product_table order by product_regDate DESC
		]]>
	</select>
	
	<select id="categoryList" resultType="com.forever.young.entity.Product">
			select
				product_id,
				product_category,
				product_name,
				product_price,
				product_stock,
				product_regdate,
				product_brand,
				product_skintype,
				event_no
			from
				product_table
			where
				product_category = #{category}
			order by
				product_regdate desc
	</select>
</mapper>