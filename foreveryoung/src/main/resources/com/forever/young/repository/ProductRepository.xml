<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.forever.young.repository.ProductRepository">
	
	<insert id="registProduct">
	<selectKey keyProperty="product_no" order="BEFORE" resultType="int">
			select product_table_seq.nextval from dual			
	</selectKey>
		insert into product_table 
			(product_no,
			product_category,
			product_name,
			product_price,
			product_stock,
			product_regDate,
			product_brand,
			product_skintype,
			event_no)
			
		values
			(#{product_no},
			#{product_category},
			#{product_name},
			#{product_price},
			#{product_stock},
			sysdate, 
			1,
			#{product_skintype},
		 	1)
	</insert>

	<select id="selectBoardList" parameterType="hashMap" resultType="hashmap">
		<![CDATA[
			select 
				product_category, 
				product_name, 
				product_img, 
				product_price, 
				product_stock,
				product_regDate
			from product_table order by product_regDate DESC
		]]>
	</select>
	
	<select id="categoryList" resultType="com.forever.young.entity.Product">
			select
				product_no,
				product_category,
				product_name,
				product_price,
				product_stock,
				product_regdate,
				product_brand,
				product_skintype,
				event_no
			from
				product_table
			where
				product_category = #{category}
			order by
				product_regdate desc
	</select>
</mapper>